@using System.Security.Claims
@{
    ViewData["Title"] = "Manager Dashboard";

    var given = User.FindFirst(ClaimTypes.GivenName)?.Value
        ?? User.Claims.FirstOrDefault(c => c.Type == "given_name")?.Value;

    var family = User.FindFirst(ClaimTypes.Surname)?.Value
        ?? User.Claims.FirstOrDefault(c => c.Type == "family_name")?.Value;

    string fallback = User.Identity?.Name ?? "User";
    string fullName = !string.IsNullOrWhiteSpace(given) && !string.IsNullOrWhiteSpace(family)
        ? $"{given} {family}"
        : fallback;
}

<div class="container py-4">
    <div class="text-center my-4">
        <h2 class="fw-bold">Welcome, @fullName!</h2>
        <p class="text-muted">Manager Dashboard</p>
    </div>
</div>
